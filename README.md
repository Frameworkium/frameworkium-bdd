Frameworkium-BDD [![Build Status][status-svg]][status]
======================================================

This is a BDD version of [Frameworkium][frameworkium], it utilises 
[frameworkium-core][core] and is nearing first release.

## Getting Started

1. Clone this project `git clone https://github.com/Frameworkium/frameworkium-bdd.git`
2. Create your own package for your project under `src/test/java`
3. Add your package to a new `<package>` tag of the `<configuration>` section of the `cucumber-jvm-parallel-plugin` 
plugin in the `pom.xml`
4. Add your package to the `src/test/resources/META-INF/aop.xml` file like the example com.google package
5. Create `glue` and `pages` packages like the current example code
6. Create feature files in `src/test/resources/features`
7. Run tests as per instructions below


## Running tests
Tests can be executed on the command line by running ```mvn clean verify``` followed by some parameters


| Property  | Description | value |
| ------------- | ------------- | ---|
| browser  | browser to run tests on   | e.g ```firefox``` ```chrome``` |
| webdriver.chrome.driver  | path to the chromedriver if using chrome  | e.g ```/c/chromedriver.exe``` |
| webdriver.gecko.driver  | path to the geckodriver if using firefox  | e.g ```/c/chromedriver.exe``` |
| tags | cucumber tags to run | e.g ```@ui``` |
| gridURL | selenium grid url for if you wish to run tests in parallel on selenium grid  | e.g ```http://localhost:4444/wd/hub```|
| threads | amount of threads to use when running in parallel (default=1)  | e.g ```5```|

all properties should be parsed through the command line using ```-D``` for example:
```mvn clean verify -Dbrowser=chrome -Dwebdriver.chrome.driver=/c/chromedriver.exe -Dtags=@ui```
would run all tests with the @ui tag on a chrome browser

If no tag property is set all tests will be executed

### API tests
By default A Frameworkium 'Runner' class is autogenerated at run which takes care of the browser instantiation for the test. 
If however you are running an API test we don't want our test to open up a browser before the test as it would with a 
traditional Frameworkium ui test. Simple tag your individual Scenario with the `@api` tag and a runner class extending 
the `com.frameworkium.core.api.tests.BaseTest` class will be generated instead

You can also use one tag at the feature file to create an API runner for all tests in the feature file

### Parallel Execution 
With cucumber we can achieve parallel execution by running multiple 'Runner' classes in parallel with different runner classes
executing different tests. We utilise this by using a plugin ([docs](https://github.com/temyers/cucumber-jvm-parallel-plugin)) 
that autogenerates a runner class in the target directory at runtime for each scenario which will then in turn be run in 
parallel if you are using selenium grid. 

you will need to set the ```gridURL``` and ```threads``` properties to run tests in parallel as well as already having 
set up your selenium grid

## Reporting
To generate reports you simple run ```mvn site``` after your tests have run and the reports will be generated at
```/target/site/allure-maven-plugin.html```

**Important!** 
Some of your classes will not be picked up by allure reporting by default as they don't extend a ```com.frameworkium class``` 
such as your steps files. Make sure you have included your class package in the ```src/test/resources/META-INF/aop.xml``` file 

## Zephyr Integration
Reporting test results back to zephyr has been integrated into cucumbers tagging functionality. Tagging a scenario in 
the format ```@TestCaseId(TEST-1)``` will change the status of the zephyr test to pass/fail. 

In order for test results to be reported back to zephyr the following properties are required 
```jiraURL``` ```jiraUsername``` ```jiraPassword``` ```resultVersion``` ```zapiCycleRegEx``` 

Property details can be found on the official frameworkium docs [here](https://frameworkium.github.io/#_pages/ZephyrJiraLogging.md)

## Tagging
Comprehensive docs on cucumber tagging can be found on the official cucumber wiki [here](https://github.com/cucumber/cucumber/wiki/Tags)

[status-svg]: https://travis-ci.org/Frameworkium/frameworkium-bdd.svg?branch=master
[status]: https://travis-ci.org/Frameworkium/frameworkium-bdd
[frameworkium]: https://github.com/Frameworkium/frameworkium
[core]: https://github.com/Frameworkium/frameworkium-core
